/* Tailwind CSS v4 with DaisyUI plugin */
@import 'tailwindcss';
@source "../**/*.{html,js,ts}";

@plugin "daisyui" {
  themes:
    light --default,
    dark --prefersdark,
    cupcake,
    night;
}

/* Minimal custom utilities */
@layer utilities {
  .h-15 {
    height: 60px;
  }
}

@layer components {
  /* File list styles using DaisyUI menu */
  .file-required {
    border-left: 3px solid oklch(var(--p));
    padding-left: 0.75rem;
  }
}

@layer components {
  /* DaisyUI Tooltip Enhancement - Handle long text with proper wrapping */
  .tooltip:before {
    max-width: 20rem !important;
    white-space: pre-line !important; /* Preserve newlines, allow wrapping */
    text-align: left !important;
    line-height: 1.4;
    padding: 0.5rem 0.75rem;
    overflow-wrap: break-word; /* Break long words if needed */
  }

  .tooltip:after {
    max-width: 20rem !important;
  }

  /* Fix tooltip clipping in overflow containers - move overflow to table */
  .overflow-auto {
    overflow: visible !important;
  }

  .overflow-auto table {
    display: block;
    overflow: auto;
    max-height: 100%;
  }

  /* Map controls styling */
  #map-controls .btn {
    transition: all 0.2s ease;
  }

  #map-controls .btn.btn-active {
    background-color: oklch(var(--p));
    border-color: oklch(var(--p));
    color: oklch(var(--pc));
    box-shadow: 0 0 0 2px oklch(var(--p) / 0.2);
  }

  #map-controls .btn:hover:not(.btn-active) {
    background-color: oklch(var(--b3));
  }

  #map-controls .btn svg {
    transition: transform 0.2s ease;
  }

  /* Better tooltip positioning for map controls */
  #map-controls .tooltip {
    --tooltip-offset: 0.75rem;
  }

  /* Square button improvements */
  #map-controls .btn-square {
    min-height: 2.5rem;
    height: 2.5rem;
    width: 2.5rem;
  }
}

@layer components {
  /* CodeMirror overrides */
  .cm-editor {
    height: 100%;
  }

  .cm-focused {
    outline: none !important;
  }

  /* Search results styles */
  .search-results {
    z-index: 1000;
    max-height: 24rem;
    overflow-y: auto;
  }

  .search-result-item {
    transition: colors 0.15s ease;
  }

  .search-section-header {
    position: sticky;
    top: 0;
    z-index: 10;
  }

  /* Welcome overlay improvements */
  #map-overlay {
    transition: opacity 0.15s ease;
  }
}

@layer utilities {
  /* Schedule/Timetable view styles */
  td input.input {
    position: inherit;
  }

  .stop-name.sticky:hover {
    z-index: 2;
  }

  .stop-name.sticky {
    z-index: 1;
  }
}

@layer components {
  /* Trip property rows styling */
  .trip-property-row:last-of-type {
    border-bottom: 2px solid oklch(var(--bc) / 0.2);
  }
}
