<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop View Improvement Mockup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            plugins: [
                function({ addUtilities }) {
                    addUtilities({
                        '.h-15': {
                            height: '60px',
                        }
                    })
                }
            ]
        }
    </script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <style>
        /* Editable field styles using DaisyUI only */
        .editable-field {
            transition: all 0.2s ease;
            cursor: text;
        }

        .editable-field:hover {
            @apply bg-base-200;
        }

        .editable-field.editing {
            @apply bg-base-100 border-primary border-2;
        }

        /* Relationship link styles using DaisyUI only */
        .relationship-link {
            transition: all 0.2s ease;
        }

        .relationship-link:hover {
            transform: translateY(-1px);
            @apply shadow-lg;
        }
    </style>
</head>
<body class="bg-base-100">
    <div class="container mx-auto p-4 max-w-6xl">
        <!-- Theme Toggle -->
        <div class="flex justify-end mb-4">
            <button class="btn btn-ghost btn-sm" onclick="toggleTheme()">
                <span id="theme-icon">üåô</span>
            </button>
        </div>

        <!-- Stop View Header -->
        <div class="card bg-base-100 shadow-xl mb-6">
            <div class="card-body">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="card-title text-2xl">Union Station</h1>
                        <div class="badge badge-primary badge-sm">stop_id: union_station</div>
                    </div>
                    <div class="text-right text-sm opacity-70">
                        <div>Lat: 43.6426¬∞ N</div>
                        <div>Lng: 79.3809¬∞ W</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Single Column Layout - No Tabs -->

        <!-- Properties Section -->
        <div class="space-y-6">
            <h2 class="text-2xl font-bold">Stop Properties</h2>
            <div class="card bg-base-100 shadow-lg">
                <div class="card-body">
                    <div class="space-y-4">
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Stop Name</span>
                                <span class="label-text-alt text-xs opacity-60">stop_name</span>
                            </label>
                            <input type="text" value="Union Station"
                                   class="input input-bordered editable-field"
                                   onblur="saveField(this, 'stop_name')" />
                        </div>

                        <div class="grid grid-cols-2 gap-3">
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-medium">Latitude</span>
                                    <span class="label-text-alt text-xs opacity-60">stop_lat</span>
                                </label>
                                <input type="number" value="43.6426" step="0.000001"
                                       class="input input-bordered editable-field"
                                       onblur="saveField(this, 'stop_lat')" />
                            </div>

                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-medium">Longitude</span>
                                    <span class="label-text-alt text-xs opacity-60">stop_lon</span>
                                </label>
                                <input type="number" value="-79.3809" step="0.000001"
                                       class="input input-bordered editable-field"
                                       onblur="saveField(this, 'stop_lon')" />
                            </div>
                        </div>

                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Stop Code</span>
                                <span class="label-text-alt text-xs opacity-60">stop_code</span>
                            </label>
                            <input type="text" value="US001"
                                   class="input input-bordered editable-field"
                                   onblur="saveField(this, 'stop_code')" />
                        </div>

                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Stop Description</span>
                                <span class="label-text-alt text-xs opacity-60">stop_desc</span>
                            </label>
                            <textarea class="textarea textarea-bordered editable-field"
                                      onblur="saveField(this, 'stop_desc')"
                                      rows="2">Major transit hub in downtown Toronto</textarea>
                        </div>

                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Location Type</span>
                                <span class="label-text-alt text-xs opacity-60">location_type</span>
                            </label>
                            <select class="select select-bordered editable-field"
                                    onchange="saveField(this, 'location_type')">
                                <option value="0">Stop/Platform</option>
                                <option value="1" selected>Station</option>
                                <option value="2">Entrance/Exit</option>
                                <option value="3">Generic Node</option>
                                <option value="4">Boarding Area</option>
                            </select>
                        </div>

                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">Wheelchair Accessible</span>
                                <span class="label-text-alt text-xs opacity-60">wheelchair_boarding</span>
                            </label>
                            <select class="select select-bordered editable-field"
                                    onchange="saveField(this, 'wheelchair_boarding')">
                                <option value="0">No information</option>
                                <option value="1" selected>Accessible</option>
                                <option value="2">Not accessible</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Transit Network Section -->
        <div class="space-y-6 mt-8">
            <h2 class="text-2xl font-bold">Transit Network</h2>
            <div class="card bg-base-100 shadow-lg">
                <div class="card-body">
                    <!-- Breadcrumb -->
                    <div class="breadcrumbs text-sm mb-6">
                        <ul>
                            <li><a href="#" onclick="navigateToAgency('ttc')">Toronto Transit Commission</a></li>
                            <li><a href="#" onclick="navigateToRoute('route_1')">Line 1 - Yonge-University</a></li>
                            <li>Union Station</li>
                        </ul>
                    </div>

                    <!-- Simplified hierarchy with routes and trip counts -->
                    <div class="space-y-4">
                        <!-- TTC Agency -->
                        <div class="card bg-primary bg-opacity-10 border border-primary border-opacity-20">
                            <div class="card-body p-4">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-semibold text-primary">üè¢ Toronto Transit Commission</h3>
                                        <p class="text-sm opacity-70">1 route, 180 trips</p>
                                    </div>
                                    <button class="btn btn-primary btn-sm" onclick="navigateToAgency('ttc')">
                                        View Agency
                                    </button>
                                </div>

                                <!-- Route under TTC -->
                                <div class="ml-4 mt-3">
                                    <div class="card bg-secondary bg-opacity-10 border border-secondary border-opacity-20">
                                        <div class="card-body p-3">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <h4 class="font-medium text-secondary">üöá Line 1 - Yonge-University</h4>
                                                    <p class="text-xs opacity-70">Subway ‚Ä¢ 180 trips</p>
                                                </div>
                                                <button class="btn btn-secondary btn-xs" onclick="navigateToRoute('route_1')">
                                                    View Route
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- GO Transit Agency -->
                        <div class="card bg-info bg-opacity-10 border border-info border-opacity-20">
                            <div class="card-body p-4">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-semibold text-info">üöÜ GO Transit</h3>
                                        <p class="text-sm opacity-70">2 routes, 67 trips</p>
                                    </div>
                                    <button class="btn btn-info btn-sm" onclick="navigateToAgency('go_transit')">
                                        View Agency
                                    </button>
                                </div>

                                <!-- Routes under GO Transit -->
                                <div class="ml-4 mt-3 space-y-2">
                                    <div class="card bg-accent bg-opacity-10 border border-accent border-opacity-20">
                                        <div class="card-body p-3">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <h4 class="font-medium text-accent">üöÑ Lakeshore West</h4>
                                                    <p class="text-xs opacity-70">Rail ‚Ä¢ 42 trips</p>
                                                </div>
                                                <button class="btn btn-accent btn-xs" onclick="navigateToRoute('route_go')">
                                                    View Route
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card bg-accent bg-opacity-10 border border-accent border-opacity-20">
                                        <div class="card-body p-3">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <h4 class="font-medium text-accent">‚úàÔ∏è UP Express</h4>
                                                    <p class="text-xs opacity-70">Rail ‚Ä¢ 25 trips</p>
                                                </div>
                                                <button class="btn btn-accent btn-xs" onclick="navigateToRoute('route_up')">
                                                    View Route
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Theme toggle functionality
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);

            const icon = document.getElementById('theme-icon');
            icon.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        // Smooth scrolling for internal navigation
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Field editing functionality
        function saveField(element, fieldName) {
            console.log(`Saving ${fieldName}: ${element.value}`);
            // Here you would integrate with the GTFS editor's save functionality

            // Visual feedback
            element.classList.add('input-success');
            setTimeout(() => {
                element.classList.remove('input-success');
            }, 1000);
        }

        // Navigation functions
        function navigateToRoute(routeId) {
            console.log(`Navigate to route: ${routeId}`);
            // Integrate with the existing navigation system
        }

        function navigateToTrip(tripId) {
            console.log(`Navigate to trip: ${tripId}`);
            // Integrate with the existing navigation system
        }

        function navigateToAgency(agencyId) {
            console.log(`Navigate to agency: ${agencyId}`);
            // Integrate with the existing navigation system
        }


        // Add input validation and real-time feedback
        document.addEventListener('DOMContentLoaded', function() {
            // Add focus/blur handlers for editable fields
            document.querySelectorAll('.editable-field').forEach(field => {
                field.addEventListener('focus', function() {
                    this.classList.add('editing');
                });

                field.addEventListener('blur', function() {
                    this.classList.remove('editing');
                });
            });
        });
    </script>
</body>
</html>